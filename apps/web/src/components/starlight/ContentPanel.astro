---
// Custom ContentPanel: keep default styles but allow full-width on /dashboard
const { pathname } = Astro.url;
const isDashboard = pathname.includes('/dashboard');
---

<div class="content-panel">
  <div class="sl-container">
    <slot />
  </div>
  <style>
    @layer starlight.core {
      .content-panel {
        padding: 1.5rem var(--sl-content-pad-x);
      }
      .content-panel + .content-panel {
        border-top: 1px solid var(--sl-color-hairline);
      }
      .sl-container {
        max-width: var(--sl-content-width);
      }
      .sl-container > :global(* + *) {
        margin-top: 1.5rem;
      }
      @media (min-width: 72rem) {
        .sl-container { margin-inline: var(--sl-content-margin-inline, auto); }
      }
    }
  </style>
  {isDashboard && (
    <style>
      :global(:root[data-cp-collapsed] .content-panel .sl-container) { --sl-content-width: 100%; margin-inline: 0; }
    </style>
  )}
</div>
